function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,r=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){a=!0,c=e},f:function(){try{r||null==n.return||n.return()}finally{if(a)throw c}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{gCuI:function(e,t,n){"use strict";n.r(t),n.d(t,"PuzzleModule",(function(){return pe}));var i=n("tyNb"),o=n("MKys"),c=n("28vI"),r=n("YxAp"),a=n("Cd6q"),l=n("fXoL"),s=n("BAab"),u=n("yKSu"),b=n("3Pt+"),p=n("ofXK");function g(e,t){1&e&&(l.Sb(0,"div"),l.Sb(1,"div"),l.Sb(2,"label",15),l.Dc(3,"\xcdrj pontos instrukci\xf3t! Milyen form\xe1ban v\xe1rod a v\xe1laszt?"),l.Rb(),l.Sb(4,"textarea",16),l.Dc(5,"            "),l.Rb(),l.Rb(),l.Sb(6,"div"),l.Sb(7,"label",17),l.Dc(8,"Ide \xedrd mag\xe1t a rejtv\xe9nyt!"),l.Rb(),l.Sb(9,"textarea",18),l.Dc(10,"            "),l.Rb(),l.Rb(),l.Rb())}function d(e,t){if(1&e){var n=l.Tb();l.Sb(0,"div"),l.Sb(1,"div"),l.Sb(2,"label",19),l.Dc(3,"\xcdrj pontos instrukci\xf3t! Milyen form\xe1ban v\xe1rod a v\xe1laszt?"),l.Rb(),l.Sb(4,"textarea",20),l.Dc(5,">"),l.Rb(),l.Rb(),l.Sb(6,"div"),l.Sb(7,"label",21),l.Dc(8,"T\xf6ltsd fel a k\xe9pet!"),l.Rb(),l.Sb(9,"input",22),l.ec("change",(function(e){return l.uc(n),l.gc().onUploadImage(e)})),l.Rb(),l.Rb(),l.Rb()}}function m(e,t){1&e&&(l.Sb(0,"div"),l.Sb(1,"p"),l.Dc(2,"A titkos\xedr\xe1ssal \xedrt rejtv\xe9nyt \xe9s a hozz\xe1 tartoz\xf3 instrukci\xf3t a sz\xe1m\xedt\xf3g\xe9p gener\xe1lja a megadott helyes v\xe1laszb\xf3l."),l.Rb(),l.Rb())}function f(e,t){if(1&e&&(l.Sb(0,"div",32),l.Sb(1,"p"),l.Dc(2),l.Rb(),l.Rb()),2&e){var n=l.gc(2);l.Ab(2),l.Fc("",n.errorMessage," A rejtv\xe9ny felt\xf6lt\xe9se nem siker\xfclt.")}}function z(e,t){if(1&e&&(l.Sb(0,"div"),l.Sb(1,"div"),l.Sb(2,"label",23),l.Dc(3,"Ide \xedrd a helyes v\xe1laszt!"),l.Rb(),l.Ob(4,"textarea",24),l.Rb(),l.Sb(5,"div"),l.Sb(6,"label",25),l.Dc(7,"Milyen neh\xe9zs\xe9g\u0171nek \xedt\xe9led a feladv\xe1nyt?"),l.Rb(),l.Sb(8,"select",26),l.Sb(9,"option",27),l.Dc(10,"K\xf6nny\u0171"),l.Rb(),l.Sb(11,"option",28),l.Dc(12,"K\xf6zepes"),l.Rb(),l.Sb(13,"option",29),l.Dc(14,"Neh\xe9z"),l.Rb(),l.Rb(),l.Rb(),l.Bc(15,f,3,1,"div",30),l.Sb(16,"button",31),l.Dc(17,"K\xfcld\xe9s"),l.Rb(),l.Rb()),2&e){var n=l.gc(),i=l.tc(7);l.Ab(15),l.mc("ngIf",""!==n.errorMessage),l.Ab(1),l.mc("disabled",i.invalid)}}var h,v,y=((h=function(){function e(t,n,i){_classCallCheck(this,e),this.puzzleService=t,this.storage=n,this.router=i,this.puzzle=new c.a,this.isNormalPuzzle=!1,this.isPicturePuzzle=!1,this.isCipher=!1,this.image=null,this.errorMessage=""}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onChangeCategory",value:function(e){"PICTURE_PUZZLE"===e.value.category?(this.isNormalPuzzle=!1,this.isPicturePuzzle=!0,this.isCipher=!1):"CIPHER"===e.value.category?(this.isNormalPuzzle=!1,this.isPicturePuzzle=!1,this.isCipher=!0):(this.isNormalPuzzle=!0,this.isPicturePuzzle=!1,this.isCipher=!1)}},{key:"onUploadImage",value:function(e){this.image=e.target.files[0]}},{key:"onSubmit",value:function(e){this.puzzle.title=e.value.title,this.puzzle.category=e.value.category,this.puzzle.level=e.value.level,this.puzzle.answer=e.value.answer,"CIPHER"!==e.value.category&&"PICTURE_PUZZLE"!==e.value.category&&(this.puzzle.instruction=e.value.instruction,this.puzzle.puzzleItem=e.value["puzzle-item"]),this.addNewPuzzle(e)}},{key:"addNewPuzzle",value:function(e){this.puzzle.category!==r.a.PICTURE_PUZZLE.toString()?this.sendPuzzleData(e):this.uploadPicturePuzzle(e)}},{key:"sendPuzzleData",value:function(e){var t=this;this.puzzleService.addNewPuzzle(this.puzzle).subscribe((function(n){e.reset(),t.router.navigate(["/puzzles/"+n.id]).then()}))}},{key:"uploadPicturePuzzle",value:function(e){var t=this,n=this.storage.ref(this.image.name);n.put(this.image).then((function(){n.getDownloadURL().subscribe((function(n){var i=n.toString(),o=i.indexOf(".com/o/");t.puzzle.puzzleItem=i.substring(o+7),t.puzzle.instruction=e.value["instruction-picture"],t.sendPuzzleData(e)}))})).catch((function(){return t.errorMessage="A k\xe9p m\xe9rete legfeljebb 2 MB lehet."}))}}]),e}()).\u0275fac=function(e){return new(e||h)(l.Nb(a.a),l.Nb(s.a),l.Nb(i.c))},h.\u0275cmp=l.Hb({type:h,selectors:[["app-add-puzzle"]],decls:30,vars:4,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","col-md-10","offset-md-1","col-lg-8","offset-lg-2","form-container"],["enctype","multipart/form-data",3,"ngSubmit"],["f","ngForm"],["for","title"],["type","text","id","title","name","title","ngModel","","required",""],["for","category"],["name","category","id","category","ngModel","","required","",3,"change"],["value","RIDDLE"],["value","MATH_PUZZLE"],["value","PICTURE_PUZZLE"],["value","WORD_PUZZLE"],["value","CIPHER"],[4,"ngIf"],["for","instruction-normal"],["id","instruction-normal","name","instruction","ngModel","","required","","placeholder","P\xe9ld\xe1ul: Hogy folytat\xf3dik a sz\xe1msor? A megold\xe1s h\xe1rom sz\xe1m vessz\u0151vel, sz\xf3k\xf6zzel elv\xe1lasztva. Ha sz\xfcks\xe9ges, haszn\xe1lj tizedespontot!"],["for","puzzle-item-normal"],["id","puzzle-item-normal","name","puzzle-item","ngModel","","required","","placeholder","P\xe9ld\xe1ul: 2, 3.5, 5, 6.5, 8, ?, ?, ?"],["for","instruction-picture"],["id","instruction-picture","name","instruction-picture","ngModel","","required","","placeholder","P\xe9ld\xe1ul: A megold\xe1s h\xe1rom sz\xe1m egy-egy sz\xf3k\xf6zzel elv\xe1lasztva. Amennyiben sz\xfcks\xe9ges, tizedesvessz\u0151 haszn\xe1lhat\xf3."],["for","upload"],["type","file","accept","image/*","id","upload",3,"change"],["for","answer"],["id","answer","name","answer","ngModel","","required","","placeholder","P\xe9ld\xe1ul: 9.5, 11, 12.5 - figyelj, hogy a v\xe1lasz \xe9s az intrukci\xf3ban megadott form\xe1tum egyezzen!"],["for","level"],["name","level","id","level","ngModel","","required",""],["value","EASY"],["value","MEDIUM"],["value","DIFFICULT"],["id","submit-error","class","error",4,"ngIf"],["type","submit",3,"disabled"],["id","submit-error",1,"error"]],template:function(e,t){if(1&e){var n=l.Tb();l.Ob(0,"app-navbar"),l.Sb(1,"div",0),l.Sb(2,"div",1),l.Sb(3,"div",2),l.Sb(4,"h2"),l.Dc(5,"K\xfcldd el a saj\xe1t rejtv\xe9nyed!"),l.Rb(),l.Sb(6,"form",3,4),l.ec("ngSubmit",(function(){l.uc(n);var e=l.tc(7);return t.onSubmit(e)})),l.Sb(8,"div"),l.Sb(9,"label",5),l.Dc(10,"Adj egy tal\xe1l\xf3 c\xedmet a rejtv\xe9nyednek!"),l.Rb(),l.Ob(11,"input",6),l.Rb(),l.Sb(12,"div"),l.Sb(13,"label",7),l.Dc(14,"Milyen kateg\xf3ri\xe1hoz tartozik?"),l.Rb(),l.Sb(15,"select",8),l.ec("change",(function(){l.uc(n);var e=l.tc(7);return t.onChangeCategory(e)})),l.Sb(16,"option",9),l.Dc(17,"Fejt\xf6r\u0151, tal\xe1l\xf3s k\xe9rd\xe9s"),l.Rb(),l.Sb(18,"option",10),l.Dc(19,"Matematikai feladv\xe1ny"),l.Rb(),l.Sb(20,"option",11),l.Dc(21,"K\xe9prejtv\xe9ny"),l.Rb(),l.Sb(22,"option",12),l.Dc(23,"Nyelvi j\xe1t\xe9k"),l.Rb(),l.Sb(24,"option",13),l.Dc(25,"Titkos\xedr\xe1s"),l.Rb(),l.Rb(),l.Rb(),l.Bc(26,g,11,0,"div",14),l.Bc(27,d,10,0,"div",14),l.Bc(28,m,3,0,"div",14),l.Bc(29,z,18,2,"div",14),l.Rb(),l.Rb(),l.Rb(),l.Rb()}2&e&&(l.Ab(26),l.mc("ngIf",t.isNormalPuzzle),l.Ab(1),l.mc("ngIf",t.isPicturePuzzle),l.Ab(1),l.mc("ngIf",t.isCipher),l.Ab(1),l.mc("ngIf",t.isNormalPuzzle||t.isPicturePuzzle||t.isCipher))},directives:[u.a,b.p,b.i,b.j,b.c,b.h,b.k,b.m,b.n,b.l,b.o,p.l],styles:[".form-container[_ngcontent-%COMP%]{margin-top:100px;margin-bottom:50px;border-radius:10px;background-color:#333;padding:20px 40px;color:#00b300;font-size:18px}h2[_ngcontent-%COMP%]{margin:20px 0 40px}h2[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{text-align:center}label[_ngcontent-%COMP%]{display:block;color:#00b300;margin-top:25px}input[_ngcontent-%COMP%]{margin:10px auto;font-size:17px;text-align:left}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{display:block;width:60%}select[_ngcontent-%COMP%]{margin:20px auto 10px}textarea[_ngcontent-%COMP%]{display:block;width:60%;height:150px;margin:0 auto}button[_ngcontent-%COMP%]{display:block;margin:30px auto}p[_ngcontent-%COMP%]{text-align:center;margin-top:20px}#submit-comment-error[_ngcontent-%COMP%]{margin:20px auto;width:80%}"]}),h),P=n("mxDV"),S=n("UZWx"),C=n("XPT/"),_=n("FsBl"),O=((v=function(){function e(t){_classCallCheck(this,e),this.commentService=t}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(e){var t=this;if(e.value.agreement){var n=e.value.message,i=new c.a;i.id=this.puzzleId;var o=new _.a;o.message=n,o.puzzle=i,this.commentService.addNewComment(o).subscribe((function(n){e.reset(),t.comments.push(n)}))}}}]),e}()).\u0275fac=function(e){return new(e||v)(l.Nb(P.a))},v.\u0275cmp=l.Hb({type:v,selectors:[["app-add-comment"]],inputs:{comments:"comments",puzzleId:"puzzleId"},decls:11,vars:1,consts:[[3,"ngSubmit"],["f","ngForm"],["for","message"],["name","message","id","message","ngModel","","required",""],["id","agreement"],["for","agreement"],["type","checkbox","name","agreement","ngModel","","required",""],["type","submit",3,"disabled"]],template:function(e,t){if(1&e){var n=l.Tb();l.Sb(0,"form",0,1),l.ec("ngSubmit",(function(){l.uc(n);var e=l.tc(1);return t.onSubmit(e)})),l.Sb(2,"label",2),l.Dc(3,"Sz\xf3lj hozz\xe1!"),l.Rb(),l.Ob(4,"textarea",3),l.Sb(5,"div",4),l.Sb(6,"label",5),l.Ob(7,"input",6),l.Dc(8," A hozz\xe1sz\xf3l\xe1s nem tartalmazza a rejtv\xe9ny megold\xe1s\xe1t vagy a helyes megold\xe1sra t\xf6rt\xe9n\u0151 b\xe1rmilyen utal\xe1st, sem semmilyen s\xe9rt\u0151 megjegyz\xe9st."),l.Rb(),l.Rb(),l.Sb(9,"button",7),l.Dc(10,"Hozz\xe1sz\xf3l\xe1s k\xfcld\xe9se"),l.Rb(),l.Rb()}if(2&e){var i=l.tc(1);l.Ab(9),l.mc("disabled",i.invalid||!i.value.agreement)}},directives:[b.p,b.i,b.j,b.c,b.h,b.k,b.m,b.a,b.b],styles:["button[_ngcontent-%COMP%], label[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{display:block}label[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;font-size:20px}textarea[_ngcontent-%COMP%]{width:70%;height:150px;margin:0 auto}button[_ngcontent-%COMP%]{margin:20px auto;padding:10px}#agreement[_ngcontent-%COMP%]{width:70%;margin:10px auto;padding:10px;text-align:center}#agreement[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:15px}@media only screen and (max-width:600px){textarea[_ngcontent-%COMP%]{width:90%}}"]}),v),M=n("Pv/Z"),R=n("xJv6"),x=n("6NWb");function k(e,t){if(1&e){var n=l.Tb();l.Sb(0,"div",3),l.Sb(1,"fa-icon",4),l.ec("click",(function(){return l.uc(n),l.gc().toggleEditable()})),l.Rb(),l.Rb()}if(2&e){var i=l.gc();l.Ab(1),l.mc("icon",i.faEdit)}}var I,w=function(e){return{inEditMode:e}},A=((I=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).commentService=e,i.faEdit=R.faEdit,i}return _createClass(n,[{key:"ngOnInit",value:function(){this.isOwnComment=this.comment.member.id===this.loggedInMember.id}}]),n}(M.a)).\u0275fac=function(e){return new(e||I)(l.Nb(P.a))},I.\u0275cmp=l.Hb({type:I,selectors:[["app-simple-comment-item"]],inputs:{comment:"comment",loggedInMember:"loggedInMember"},features:[l.xb],decls:11,vars:14,consts:[[1,"simple-comment"],[3,"contentEditable","ngClass","keydown.enter"],["class","modification",4,"ngIf"],[1,"modification"],[1,"fas",3,"icon","click"]],template:function(e,t){1&e&&(l.Sb(0,"div",0),l.Sb(1,"p"),l.Sb(2,"span"),l.Dc(3),l.Rb(),l.Sb(4,"span"),l.Dc(5),l.hc(6,"date"),l.Rb(),l.Rb(),l.Sb(7,"p"),l.Sb(8,"span",1),l.ec("keydown.enter",(function(){return t.editComment(t.comment.id)})),l.Dc(9),l.Rb(),l.Rb(),l.Bc(10,k,2,1,"div",2),l.Rb()),2&e&&(l.Ab(3),l.Ec(t.comment.member.username),l.Ab(2),l.Ec(l.jc(6,9,t.comment.submissionTime,"yyyy. MM. dd.")),l.Ab(3),l.Db("messageText",t.comment.id,""),l.mc("contentEditable",t.isEditable)("ngClass",l.pc(12,w,t.isEditable)),l.Ab(1),l.Fc(" ",t.comment.message,""),l.Ab(1),l.mc("ngIf",t.isOwnComment))},directives:[p.j,p.l,x.a],pipes:[p.d],styles:["a[_ngcontent-%COMP%]{text-decoration:none}.modification[_ngcontent-%COMP%]{display:flex;width:120px;height:100%;position:absolute;top:0;right:0;align-items:center;justify-content:center}.fas[_ngcontent-%COMP%]{font-size:30px;color:#00b300;vertical-align:middle;transition:color 1s}.fas[_ngcontent-%COMP%]:hover{cursor:pointer;color:#f0fff0}.modification[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{margin-right:10px}.simple-comment[_ngcontent-%COMP%]{width:80%;margin:10px auto;background-color:#444;border:2px solid #00b300;border-radius:10px;padding:10px;font-size:17px;position:relative}.simple-comment[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#00b300}.simple-comment[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{color:#f0fff0}.simple-comment[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){float:right}.simple-comment[_ngcontent-%COMP%]   .modification[_ngcontent-%COMP%]{align-items:flex-end;justify-content:flex-end}.simple-comment[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] > span.inEditMode[_ngcontent-%COMP%]{color:#b22222;background-color:#f0fff0}@media only screen and (max-width:600px){p[_ngcontent-%COMP%]{margin:10px 0}.modification[_ngcontent-%COMP%]{width:80px;height:50px;margin:0 auto;position:static}.modification[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{margin-right:20px}}"]}),I);function D(e,t){1&e&&(l.Sb(0,"div",3),l.Sb(1,"div",4),l.Sb(2,"div",5),l.Sb(3,"span",6),l.Dc(4,"Loading..."),l.Rb(),l.Rb(),l.Rb(),l.Rb())}function E(e,t){if(1&e&&(l.Sb(0,"li"),l.Ob(1,"app-simple-comment-item",14),l.Rb()),2&e){var n=t.$implicit,i=l.gc(3);l.Ab(1),l.mc("comment",n)("loggedInMember",i.loggedInMember)}}function j(e,t){if(1&e&&(l.Sb(0,"div",12),l.Sb(1,"h2"),l.Dc(2),l.Rb(),l.Sb(3,"ul"),l.Bc(4,E,2,2,"li",13),l.Rb(),l.Rb()),2&e){var n=l.gc(2);l.Ab(2),l.Fc(" ",n.comments[0].puzzle.title,""),l.Ab(2),l.mc("ngForOf",n.comments)}}function T(e,t){1&e&&(l.Sb(0,"div",15),l.Sb(1,"p"),l.Dc(2,"Ehhez a rejtv\xe9nyhez m\xe9g nem \xedrt hozz\xe1sz\xf3l\xe1st senki sem."),l.Rb(),l.Rb())}function B(e,t){if(1&e&&(l.Sb(0,"div",7),l.Bc(1,j,5,2,"div",8),l.Bc(2,T,3,0,"div",9),l.Sb(3,"div",10),l.Ob(4,"app-add-comment",11),l.Rb(),l.Rb()),2&e){var n=l.gc();l.Ab(1),l.mc("ngIf",n.comments.length>0),l.Ab(1),l.mc("ngIf",0==n.comments.length),l.Ab(2),l.mc("puzzleId",n.puzzleId)("comments",n.comments)}}var F,N=((F=function(){function e(t,n,i){_classCallCheck(this,e),this.commentService=t,this.memberService=n,this.activatedRoute=i,this.loggedInMember=new S.a,this.isFetching=!0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,t=this.activatedRoute.snapshot.url.toString(),n=t.indexOf(","),i=t.substring(0,n);this.puzzleId=+i,this.commentService.getAllCommentsByPuzzle(this.puzzleId).subscribe((function(t){e.comments=t,e.isFetching=!1})),this.memberService.getLoggedInMemberProfile().subscribe((function(t){return e.loggedInMember=t}))}}]),e}()).\u0275fac=function(e){return new(e||F)(l.Nb(P.a),l.Nb(C.a),l.Nb(i.a))},F.\u0275cmp=l.Hb({type:F,selectors:[["app-comment"]],decls:4,vars:2,consts:[[1,"container-fluid"],["class","row","id","comment-spinner-row",4,"ngIf"],["class","row",4,"ngIf"],["id","comment-spinner-row",1,"row"],[1,"col-12"],["role","status",1,"spinner-border","spinner"],[1,"sr-only"],[1,"row"],["class","col-12 col-md-10 offset-md-1 col-lg-8 offset-lg-2 comment-column",4,"ngIf"],["class","col-12 col-md-10 offset-md-1 col-lg-8 offset-lg-2 no-comments",4,"ngIf"],[1,"col-12","col-md-10","offset-md-1","col-lg-8","offset-lg-2","add-comment"],[3,"puzzleId","comments"],[1,"col-12","col-md-10","offset-md-1","col-lg-8","offset-lg-2","comment-column"],[4,"ngFor","ngForOf"],[3,"comment","loggedInMember"],[1,"col-12","col-md-10","offset-md-1","col-lg-8","offset-lg-2","no-comments"]],template:function(e,t){1&e&&(l.Ob(0,"app-navbar"),l.Sb(1,"div",0),l.Bc(2,D,5,0,"div",1),l.Bc(3,B,5,4,"div",2),l.Rb()),2&e&&(l.Ab(2),l.mc("ngIf",t.isFetching),l.Ab(1),l.mc("ngIf",!t.isFetching))},directives:[u.a,p.l,O,p.k,A],styles:["#comment-spinner-row[_ngcontent-%COMP%]{margin-top:100px}.add-comment[_ngcontent-%COMP%], .comment-column[_ngcontent-%COMP%], .no-comments[_ngcontent-%COMP%]{margin-top:100px;border-radius:10px;background-color:#333;padding:30px 40px;color:#00b300;position:relative}.comment-column[_ngcontent-%COMP%]{padding-bottom:50px}.add-comment[_ngcontent-%COMP%]{margin-bottom:50px}.no-comments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:0;line-height:34px;font-size:17px;color:#00b300;text-align:center}.add-comment[_ngcontent-%COMP%]{margin-top:20px}h2[_ngcontent-%COMP%]{color:#f0fff0;text-align:center;margin-bottom:30px}ul[_ngcontent-%COMP%]{margin:0;padding:0}li[_ngcontent-%COMP%]{list-style-type:none}"]}),F),L=n("6mos"),Z=n("oVMc"),U=n("hVay");function H(e,t){1&e&&(l.Sb(0,"div",5),l.Sb(1,"div",6),l.Sb(2,"span",7),l.Dc(3,"Loading..."),l.Rb(),l.Rb(),l.Rb())}function K(e,t){if(1&e&&(l.Sb(0,"li"),l.Ob(1,"app-puzzle-item",11),l.Rb()),2&e){var n=t.$implicit;l.Ab(1),l.mc("puzzle",n)}}function W(e,t){if(1&e){var n=l.Tb();l.Sb(0,"div",8),l.Sb(1,"h1"),l.Dc(2),l.Rb(),l.Sb(3,"app-puzzle-sort",9),l.ec("puzzlesSorted",(function(e){return l.uc(n),l.gc().onSort(e)})),l.Rb(),l.Sb(4,"ul"),l.Bc(5,K,2,1,"li",10),l.Rb(),l.Rb()}if(2&e){var i=l.gc();l.Ab(2),l.Ec(i.title),l.Ab(1),l.mc("category",i.category),l.Ab(2),l.mc("ngForOf",i.puzzles)}}var q,V=((q=function(){function e(t,n,i){_classCallCheck(this,e),this.puzzleService=t,this.solutionService=n,this.activatedRoute=i,this.title="",this.category=null,this.isFetching=!0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,t=this.activatedRoute.snapshot.url.toString();t.endsWith("all")?this.puzzleService.getAllPuzzles().subscribe((function(t){e.puzzles=t,e.title="\xd6sszes rejtv\xe9ny",e.isFetching=!1,e.markSolvedPuzzles()})):t.endsWith("riddles")?this.puzzleService.getPuzzlesByCategory(r.a.RIDDLE).subscribe((function(t){e.onSuccess(t,r.a.RIDDLE,"Fejt\xf6r\u0151k, tal\xe1l\xf3s k\xe9rd\xe9sek")})):t.endsWith("math-puzzles")?this.puzzleService.getPuzzlesByCategory(r.a.MATH_PUZZLE).subscribe((function(t){e.onSuccess(t,r.a.MATH_PUZZLE,"Matematikai feladv\xe1nyok")})):t.endsWith("picture-puzzles")?this.puzzleService.getPuzzlesByCategory(r.a.PICTURE_PUZZLE).subscribe((function(t){e.onSuccess(t,r.a.PICTURE_PUZZLE,"K\xe9prejtv\xe9nyek")})):t.endsWith("word-puzzles")?this.puzzleService.getPuzzlesByCategory(r.a.WORD_PUZZLE).subscribe((function(t){e.onSuccess(t,r.a.WORD_PUZZLE,"Nyelvi j\xe1t\xe9kok")})):t.endsWith("ciphers")&&this.puzzleService.getPuzzlesByCategory(r.a.CIPHER).subscribe((function(t){e.onSuccess(t,r.a.CIPHER,"Titkos\xedr\xe1s")}))}},{key:"onSort",value:function(e){this.puzzles=e,this.markSolvedPuzzles()}},{key:"markSolvedPuzzles",value:function(){var e=this;this.solutionService.getAllSolutionsByLoggedInMember().subscribe((function(t){e.findSolved(t)}))}},{key:"findSolved",value:function(e){var t,n=_createForOfIteratorHelper(this.puzzles);try{for(n.s();!(t=n.n()).done;){var i,o=t.value,c=_createForOfIteratorHelper(e);try{for(c.s();!(i=c.n()).done;)if(i.value.puzzle.id===o.id){o.solved=!0;break}}catch(r){c.e(r)}finally{c.f()}}}catch(r){n.e(r)}finally{n.f()}}},{key:"onSuccess",value:function(e,t,n){this.puzzles=e,this.category=t,this.title=n,this.isFetching=!1,this.markSolvedPuzzles()}}]),e}()).\u0275fac=function(e){return new(e||q)(l.Nb(a.a),l.Nb(L.a),l.Nb(i.a))},q.\u0275cmp=l.Hb({type:q,selectors:[["app-puzzles"]],decls:7,vars:2,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],["class","col-12","id","puzzle-spinner",4,"ngIf"],["class","col-12 col-md-10 offset-md-1 col-lg-8 offset-lg-2 puzzle-container",4,"ngIf"],["id","puzzle-spinner",1,"col-12"],["role","status",1,"spinner-border","spinner"],[1,"sr-only"],[1,"col-12","col-md-10","offset-md-1","col-lg-8","offset-lg-2","puzzle-container"],[3,"category","puzzlesSorted"],[4,"ngFor","ngForOf"],[3,"puzzle"]],template:function(e,t){1&e&&(l.Ob(0,"app-navbar"),l.Sb(1,"div",0),l.Sb(2,"div",1),l.Sb(3,"div",2),l.Sb(4,"div",1),l.Bc(5,H,4,0,"div",3),l.Bc(6,W,6,3,"div",4),l.Rb(),l.Rb(),l.Rb(),l.Rb()),2&e&&(l.Ab(5),l.mc("ngIf",t.isFetching),l.Ab(1),l.mc("ngIf",!t.isFetching))},directives:[u.a,p.l,Z.a,p.k,U.a],styles:["#puzzle-spinner[_ngcontent-%COMP%]{margin-top:100px}.puzzle-container[_ngcontent-%COMP%]{margin-top:100px;border-radius:10px;background-color:#333;padding:20px}.puzzle-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#00b300;padding:10px 0 30px;text-align:center}.puzzle-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0}.puzzle-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none}"]}),q),J=function e(){_classCallCheck(this,e)},X=n("vGip"),$=n("1kSV");function Y(e,t){1&e&&(l.Sb(0,"div",5),l.Sb(1,"div",6),l.Sb(2,"span",7),l.Dc(3,"Loading..."),l.Rb(),l.Rb(),l.Rb())}function G(e,t){if(1&e&&(l.Sb(0,"p",10),l.Dc(1,"Bek\xfcld\u0151: "),l.Sb(2,"span"),l.Dc(3),l.Rb(),l.Sb(4,"span",19),l.Dc(5),l.hc(6,"date"),l.Rb(),l.Rb()),2&e){var n=l.gc(2);l.Ab(3),l.Ec(n.puzzle.member.username),l.Ab(2),l.Fc(" ",l.jc(6,2,n.puzzle.submissionTime,"yyyy. MM. dd."),"")}}function Q(e,t){if(1&e&&(l.Sb(0,"p",11),l.Dc(1),l.Rb()),2&e){var n=l.gc(2);l.Ab(1),l.Ec(n.puzzle.puzzleItem)}}function ee(e,t){if(1&e&&l.Ob(0,"img",20),2&e){var n=l.gc(2);l.oc("src","https://firebasestorage.googleapis.com/v0/b/puzzles-a6dd7.appspot.com/o/",n.puzzle.puzzleItem,"",l.wc)}}function te(e,t){1&e&&(l.Sb(0,"p",30),l.Dc(1,"Nem ez a helyes megold\xe1s. Pr\xf3b\xe1lkozz tov\xe1bb!"),l.Rb())}function ne(e,t){if(1&e){var n=l.Tb();l.Sb(0,"div",21),l.Sb(1,"form",22,23),l.ec("ngSubmit",(function(){l.uc(n);var e=l.tc(2);return l.gc(2).onCheckAnswer(e)})),l.Sb(3,"label",24),l.Dc(4,"V\xe1lasz: "),l.Rb(),l.Ob(5,"input",25),l.Sb(6,"div",26),l.Sb(7,"button",27),l.ec("click",(function(){return l.uc(n),l.gc(2).onCancel()})),l.Dc(8,"M\xe9gse"),l.Rb(),l.Sb(9,"button",28),l.Dc(10,"Helyes?"),l.Rb(),l.Rb(),l.Rb(),l.Bc(11,te,2,0,"p",29),l.Rb()}if(2&e){var i=l.gc(2);l.Ab(11),l.mc("ngIf",i.isIncorrect)}}function ie(e,t){1&e&&(l.Sb(0,"span",35),l.Dc(1,"\u2605"),l.Rb()),2&e&&l.Fb("filled",100===t.fill)}function oe(e,t){if(1&e){var n=l.Tb();l.Sb(0,"div",31),l.Sb(1,"h3"),l.Dc(2,"Kiv\xe1l\xf3 megfejt\xe9s!"),l.Rb(),l.Sb(3,"p"),l.Dc(4,"\xc9rt\xe9keld a rejtv\xe9nyt, \xe9s k\xfcldd be a megold\xe1sod!"),l.Rb(),l.Sb(5,"div",32),l.Sb(6,"ngb-rating",33),l.ec("rateChange",(function(e){return l.uc(n),l.gc(2).rating=e})),l.Bc(7,ie,2,2,"ng-template"),l.Rb(),l.Rb(),l.Sb(8,"button",34),l.ec("click",(function(){return l.uc(n),l.gc(2).onSendSolution()})),l.Dc(9,"K\xfcld\xe9s"),l.Rb(),l.Rb()}if(2&e){var i=l.gc(2);l.Ab(6),l.mc("rate",i.rating)}}function ce(e,t){if(1&e&&(l.Sb(0,"div",8),l.Bc(1,G,7,5,"p",9),l.Sb(2,"h1"),l.Dc(3),l.Rb(),l.Sb(4,"p",10),l.Dc(5,"Instrukci\xf3: "),l.Sb(6,"span",11),l.Dc(7),l.Rb(),l.Rb(),l.Sb(8,"div",12),l.Bc(9,Q,2,1,"p",13),l.Bc(10,ee,1,1,"img",14),l.Rb(),l.Sb(11,"p",15),l.Ob(12,"app-stars",16),l.Rb(),l.Bc(13,ne,12,1,"div",17),l.Bc(14,oe,10,1,"div",18),l.Rb()),2&e){var n=l.gc();l.Ab(1),l.mc("ngIf",null!==n.puzzle.member),l.Ab(2),l.Ec(n.puzzle.title),l.Ab(4),l.Ec(n.puzzle.instruction),l.Ab(2),l.mc("ngIf","PICTURE_PUZZLE"!==n.puzzle.category.toString()),l.Ab(1),l.mc("ngIf","PICTURE_PUZZLE"===n.puzzle.category.toString()),l.Ab(2),l.mc("puzzle",n.puzzle),l.Ab(1),l.mc("ngIf",!n.isSolved),l.Ab(1),l.mc("ngIf",n.isSolved)}}var re,ae,le,se=[{path:"",children:[{path:"riddles",canActivate:[o.a],component:V},{path:"math-puzzles",canActivate:[o.a],component:V},{path:"picture-puzzles",canActivate:[o.a],component:V},{path:"word-puzzles",canActivate:[o.a],component:V},{path:"ciphers",canActivate:[o.a],component:V},{path:"all",canActivate:[o.a],component:V},{path:"add",canActivate:[o.a],component:y,pathMatch:"full"},{path:":id",canActivate:[o.a],component:(re=function(){function e(t,n,i,o){_classCallCheck(this,e),this.puzzleService=t,this.solutionService=n,this.activatedRoute=i,this.location=o,this.puzzle=new c.a,this.rating=5,this.isFetching=!0,this.isSolved=!1,this.isIncorrect=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.start=new Date,this.puzzleService.getPuzzleById(this.activatedRoute.snapshot.params.id).subscribe((function(t){e.puzzle=t,e.isFetching=!1}))}},{key:"onCancel",value:function(){this.location.back()}},{key:"onCheckAnswer",value:function(e){var t=this,n=e.value.answer;n=n.trim().toLowerCase(),e.reset(),this.puzzleService.checkAnswer(this.puzzle.id,n).subscribe((function(e){e?t.isSolved=!0:(t.isIncorrect=!0,setTimeout((function(){return t.isIncorrect=!1}),3e3))}))}},{key:"onSendSolution",value:function(){var e=this,t=new Date,n=Math.round((t.getTime()-this.start.getTime())/1e3),i=new J;i.puzzle=this.puzzle,i.seconds=n,i.rating=this.rating,this.solutionService.saveSolution(i).subscribe((function(){e.location.back()}))}}]),e}(),re.\u0275fac=function(e){return new(e||re)(l.Nb(a.a),l.Nb(L.a),l.Nb(i.a),l.Nb(p.h))},re.\u0275cmp=l.Hb({type:re,selectors:[["app-puzzle-game"]],decls:7,vars:2,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],["class","col-12","id","game-spinner",4,"ngIf"],["class","col-12 col-md-10 offset-md-1 col-lg-8 offset-lg-2 puzzle-container",4,"ngIf"],["id","game-spinner",1,"col-12"],["role","status",1,"spinner-border","spinner"],[1,"sr-only"],[1,"col-12","col-md-10","offset-md-1","col-lg-8","offset-lg-2","puzzle-container"],["class","puzzle-info",4,"ngIf"],[1,"puzzle-info"],[1,"preserve-newline"],[1,"puzzle-item"],["class","preserve-newline",4,"ngIf"],["alt","puzzle",3,"src",4,"ngIf"],[1,"rating"],[3,"puzzle"],["class","answer-form",4,"ngIf"],["class","rating-box",4,"ngIf"],["id","date"],["alt","puzzle",3,"src"],[1,"answer-form"],[3,"ngSubmit"],["f","ngForm"],["for","answer"],["type","text","id","answer","name","answer","ngModel",""],[1,"answer-btn-div"],["id","cancel-button","type","button",3,"click"],["id","check-button","type","submit"],["id","incorrect-message",4,"ngIf"],["id","incorrect-message"],[1,"rating-box"],[1,"rating-stars"],["max","5",3,"rate","rateChange"],["type","button",3,"click"],[1,"star"]],template:function(e,t){1&e&&(l.Ob(0,"app-navbar"),l.Sb(1,"div",0),l.Sb(2,"div",1),l.Sb(3,"div",2),l.Sb(4,"div",1),l.Bc(5,Y,4,0,"div",3),l.Bc(6,ce,15,8,"div",4),l.Rb(),l.Rb(),l.Rb(),l.Rb()),2&e&&(l.Ab(5),l.mc("ngIf",t.isFetching),l.Ab(1),l.mc("ngIf",!t.isFetching))},directives:[u.a,p.l,X.a,b.p,b.i,b.j,b.c,b.h,b.k,$.a],pipes:[p.d],styles:["#game-spinner[_ngcontent-%COMP%]{margin-top:100px}.puzzle-container[_ngcontent-%COMP%]{margin-top:100px;margin-bottom:50px;border-radius:10px;background-color:#333;padding:20px 40px}.puzzle-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#00b300;padding:10px 0 30px;text-align:center}.puzzle[_ngcontent-%COMP%]{width:80%;display:block;margin:20px auto;padding:20px;background-color:#444;color:#f0fff0;border:2px solid #00b300;border-radius:10px;font-size:17px}.puzzle[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-bottom:20px}#date[_ngcontent-%COMP%]{float:right}#no-rating[_ngcontent-%COMP%], .puzzle-info[_ngcontent-%COMP%]{color:#00b300}.puzzle-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .puzzle-item[_ngcontent-%COMP%]{color:#f0fff0}.puzzle-item[_ngcontent-%COMP%]{padding:20px;margin:20px auto;background-color:#444;border:2px solid #00b300;border-radius:10px;font-size:18px}.puzzle-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;height:auto;display:block;margin:10px auto}button[_ngcontent-%COMP%]{float:right}#cancel-button[_ngcontent-%COMP%]:hover{background-color:#b22222;color:#f0fff0}.answer-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f0fff0;margin-right:20px}.answer-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;width:300px;text-align:left}.answer-btn-div[_ngcontent-%COMP%]{display:inline}#incorrect-message[_ngcontent-%COMP%]{margin-top:20px;padding:10px;color:#f0fff0;background-color:#b22222;border-radius:10px}#check-button[_ngcontent-%COMP%]{margin-right:10px}.rating-box[_ngcontent-%COMP%]{color:#f0fff0}.rating-box[_ngcontent-%COMP%], .rating-stars[_ngcontent-%COMP%]{text-align:center}.rating-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:none;margin:30px auto 20px}.preserve-newline[_ngcontent-%COMP%]{white-space:pre-wrap}#solution-error[_ngcontent-%COMP%]{margin:20px auto;width:80%}@media only screen and (max-width:1024px){.puzzle-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:65%}}@media only screen and (max-width:600px){.puzzle-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80%}.answer-btn-div[_ngcontent-%COMP%]{padding:20px 0;display:block}#incorrect-message[_ngcontent-%COMP%]{margin-top:30px}}@media only screen and (max-width:300px){.puzzle-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:95%}}.star[_ngcontent-%COMP%]{font-size:1.5rem;color:#f0fff0}.filled[_ngcontent-%COMP%]{color:#00b300}"]}),re),pathMatch:"full"},{path:":id/comments",canActivate:[o.a],component:N}]}],ue=((ae=function e(){_classCallCheck(this,e)}).\u0275mod=l.Lb({type:ae}),ae.\u0275inj=l.Kb({factory:function(e){return new(e||ae)},imports:[[i.f.forChild(se)],i.f]}),ae),be=n("ovet"),pe=((le=function e(){_classCallCheck(this,e)}).\u0275mod=l.Lb({type:le}),le.\u0275inj=l.Kb({factory:function(e){return new(e||le)},imports:[[be.a,ue]]}),le)}}]);