(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{GU7q:function(e,t,n){"use strict";n.r(t),n.d(t,"AdminModule",(function(){return k}));var i=n("tyNb"),o=n("lGQG"),c=n("fXoL");let r=(()=>{class e{constructor(e){this.router=e}canActivate(e,t){let n=!0;return n=null!=localStorage.getItem("token")&&o.a.isAdmin(),n||this.router.navigate([""]).then(),n}}return e.\u0275fac=function(t){return new(t||e)(c.ac(i.c))},e.\u0275prov=c.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var a=n("Cd6q"),l=n("yKSu"),s=n("oVMc"),p=n("ofXK"),b=n("hVay");function u(e,t){if(1&e){const e=c.Tb();c.Sb(0,"div",5),c.Sb(1,"app-puzzle-item",6),c.ec("puzzleDeleted",(function(t){return c.uc(e),c.gc().refreshPuzzles(t)})),c.Rb(),c.Rb()}if(2&e){const e=t.$implicit;c.Ab(1),c.mc("puzzle",e)}}let d=(()=>{class e{constructor(e){this.puzzleService=e}ngOnInit(){this.puzzleService.getAllPuzzles().subscribe(e=>{this.puzzles=e})}refreshPuzzles(e){this.puzzles=this.puzzles.filter(t=>t!==e)}onSort(e){this.puzzles=e}}return e.\u0275fac=function(t){return new(t||e)(c.Nb(a.a))},e.\u0275cmp=c.Hb({type:e,selectors:[["app-admin-puzzles"]],decls:8,vars:2,consts:[[1,"container-fluid","admin-container"],[1,"row"],[1,"col-12","col-sm-8","offset-sm-2","puzzles-container"],[3,"category","puzzlesSorted"],["class","puzzleDiv",4,"ngFor","ngForOf"],[1,"puzzleDiv"],[3,"puzzle","puzzleDeleted"]],template:function(e,t){1&e&&(c.Ob(0,"app-navbar"),c.Sb(1,"div",0),c.Sb(2,"div",1),c.Sb(3,"div",2),c.Sb(4,"h1"),c.Dc(5,"Rejtv\xe9nyek"),c.Rb(),c.Sb(6,"app-puzzle-sort",3),c.ec("puzzlesSorted",(function(e){return t.onSort(e)})),c.Rb(),c.Bc(7,u,2,1,"div",4),c.Rb(),c.Rb(),c.Rb()),2&e&&(c.Ab(6),c.mc("category",null),c.Ab(1),c.mc("ngForOf",t.puzzles))},directives:[l.a,s.a,p.k,b.a],styles:[".admin-container[_ngcontent-%COMP%]{margin-top:50px;height:calc(100% - 50px);padding:0}.puzzles-container[_ngcontent-%COMP%]{margin:50px auto;padding:25px;border-radius:10px;background-color:#333}h1[_ngcontent-%COMP%]{text-align:center;margin:30px auto 50px;color:#00b300}.puzzleDiv[_ngcontent-%COMP%]:first-child{margin-top:50px}@media only screen and (max-width:700px){.puzzleDiv[_ngcontent-%COMP%]   .modification[_ngcontent-%COMP%]{width:80px;height:50px;margin:0 auto;position:static}.modification[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{margin-right:20px}}"]}),e})();var z=n("XPT/"),g=n("IBXX"),m=n("wHSu"),f=n("6NWb");const h=function(e){return["/admin/members/edit",e]};function v(e,t){if(1&e){const e=c.Tb();c.Sb(0,"div",4),c.Sb(1,"h3"),c.Dc(2),c.Rb(),c.Sb(3,"p"),c.Sb(4,"span"),c.Dc(5,"Email: "),c.Rb(),c.Dc(6),c.Rb(),c.Sb(7,"p"),c.Sb(8,"span"),c.Dc(9,"Regisztr\xe1ci\xf3: "),c.Rb(),c.Dc(10),c.hc(11,"date"),c.Rb(),c.Sb(12,"p"),c.Sb(13,"span"),c.Dc(14,"Pontsz\xe1m: "),c.Rb(),c.Dc(15),c.Rb(),c.Sb(16,"div",5),c.Sb(17,"fa-icon",6),c.ec("click",(function(){c.uc(e);const n=t.$implicit;return c.gc().deleteMember(n.id)})),c.Rb(),c.Sb(18,"a",7),c.Ob(19,"fa-icon",8),c.Rb(),c.Rb(),c.Rb()}if(2&e){const e=t.$implicit,n=c.gc();c.Ab(2),c.Ec(e.username),c.Ab(4),c.Ec(e.email),c.Ab(4),c.Fc(" ",c.jc(11,8,e.registration,"yyyy. MM. dd."),""),c.Ab(5),c.Ec(e.score),c.Ab(2),c.mc("icon",n.faTrash),c.Ab(1),c.mc("routerLink",c.pc(11,h,e.id))("state",e),c.Ab(1),c.mc("icon",n.faEdit)}}let M=(()=>{class e{constructor(e){this.memberService=e,this.faTrash=g.faTrash,this.faEdit=m.a}ngOnInit(){this.memberService.getAllMembers().subscribe(e=>{this.members=e})}deleteMember(e){confirm("Biztosan t\xf6r\xf6lni akarod ezt a felhaszn\xe1l\xf3t?")&&(this.memberService.deleteMember(e).subscribe(),this.members=this.members.filter(t=>t.id!==e))}}return e.\u0275fac=function(t){return new(t||e)(c.Nb(z.a))},e.\u0275cmp=c.Hb({type:e,selectors:[["app-admin-members"]],decls:7,vars:1,consts:[[1,"container-fluid","admin-container"],[1,"row"],[1,"col-12","col-sm-8","offset-sm-2","members-container"],["class","memberDiv",4,"ngFor","ngForOf"],[1,"memberDiv"],[1,"modification"],[1,"fas",3,"icon","click"],[3,"routerLink","state"],[1,"fas",3,"icon"]],template:function(e,t){1&e&&(c.Ob(0,"app-navbar"),c.Sb(1,"div",0),c.Sb(2,"div",1),c.Sb(3,"div",2),c.Sb(4,"h1"),c.Dc(5,"Felhaszn\xe1l\xf3k"),c.Rb(),c.Bc(6,v,20,13,"div",3),c.Rb(),c.Rb(),c.Rb()),2&e&&(c.Ab(6),c.mc("ngForOf",t.members))},directives:[l.a,p.k,f.a,i.e],pipes:[p.d],styles:[".admin-container[_ngcontent-%COMP%]{margin-top:50px;height:calc(100% - 50px);padding:0}.members-container[_ngcontent-%COMP%]{margin:50px auto;padding:25px;border-radius:10px;background-color:#333}h1[_ngcontent-%COMP%]{text-align:center;margin:30px auto;color:#00b300}.memberDiv[_ngcontent-%COMP%]{border-radius:10px;background-color:#444;border:2px solid #00b300;padding:15px;margin:20px;color:#f0fff0;position:relative}.memberDiv[_ngcontent-%COMP%]:first-child{margin-top:50px}.memberDiv[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding-top:15px;padding-bottom:20px;color:#f0fff0}.memberDiv[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;color:#00b300}.memberDiv[_ngcontent-%COMP%]   .modification[_ngcontent-%COMP%]{display:flex;width:120px;height:100%;position:absolute;top:0;right:0;align-items:center;justify-content:center}.fas[_ngcontent-%COMP%]{font-size:30px;color:#00b300;vertical-align:middle;transition:color 1s}.fas[_ngcontent-%COMP%]:hover{cursor:pointer;color:#f0fff0}.modification[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{margin-right:10px}@media only screen and (max-width:700px){.memberDiv[_ngcontent-%COMP%]   .modification[_ngcontent-%COMP%]{width:80px;height:50px;margin:0 auto;position:static}.modification[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{margin-right:20px}}"]}),e})();var x=n("28vI"),P=n("YxAp"),C=n("3Pt+");function S(e,t){1&e&&(c.Sb(0,"label",19),c.Dc(1,"Feladv\xe1ny:"),c.Rb())}function O(e,t){if(1&e){const e=c.Tb();c.Sb(0,"textarea",20),c.ec("ngModelChange",(function(t){return c.uc(e),c.gc().puzzle.puzzleItem=t})),c.Dc(1,"        "),c.Rb()}if(2&e){const e=c.gc();c.mc("ngModel",e.puzzle.puzzleItem)("disabled",e.isCipher)}}function R(e,t){if(1&e&&c.Ob(0,"img",21),2&e){const e=c.gc();c.oc("src","https://firebasestorage.googleapis.com/v0/b/puzzles-a6dd7.appspot.com/o/",e.puzzle.puzzleItem,"",c.wc)}}let y=(()=>{class e{constructor(e,t,n){this.puzzleService=e,this.activatedRoute=t,this.router=n,this.puzzle=new x.a}ngOnInit(){this.puzzleService.getPuzzleByIdForAdmin(this.activatedRoute.snapshot.params.id).subscribe(e=>{this.puzzle=e,this.isPicturePuzzle=P.a.PICTURE_PUZZLE===e.category,this.isCipher=P.a.CIPHER===e.category})}onSubmit(){this.puzzleService.updatePuzzle(this.puzzle.id,this.puzzle).subscribe(()=>{this.router.navigate(["puzzles/"+this.puzzle.id])})}}return e.\u0275fac=function(t){return new(t||e)(c.Nb(a.a),c.Nb(i.a),c.Nb(i.c))},e.\u0275cmp=c.Hb({type:e,selectors:[["app-update-puzzle"]],decls:29,vars:11,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","col-md-10","offset-md-1","col-lg-8","offset-lg-2","form-container"],[3,"ngSubmit"],["f","ngForm"],["for","puzzle-edit-title"],["type","text","id","puzzle-edit-title","name","puzzle-edit-title",3,"ngModel","ngModelChange"],["for","puzzle-edit-category"],["type","text","id","puzzle-edit-category","disabled","",3,"value"],["for","puzzle-edit-instruction"],["id","puzzle-edit-instruction","name","puzzle-edit-instruction",3,"ngModel","disabled","ngModelChange"],["for","puzzle-edit-item",4,"ngIf"],["id","puzzle-edit-item","name","puzzle-edit-item",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["alt","puzzle",3,"src",4,"ngIf"],["for","puzzle-edit-answer"],["type","text","id","puzzle-edit-answer","name","puzzle-edit-answer",3,"ngModel","disabled","ngModelChange"],["for","puzzle-edit-level"],["type","text","id","puzzle-edit-level","disabled","",3,"value"],["type","submit",3,"disabled"],["for","puzzle-edit-item"],["id","puzzle-edit-item","name","puzzle-edit-item",3,"ngModel","disabled","ngModelChange"],["alt","puzzle",3,"src"]],template:function(e,t){if(1&e&&(c.Ob(0,"app-navbar"),c.Sb(1,"div",0),c.Sb(2,"div",1),c.Sb(3,"div",2),c.Sb(4,"h2"),c.Dc(5,"Rejtv\xe9ny szerkeszt\xe9se"),c.Rb(),c.Sb(6,"form",3,4),c.ec("ngSubmit",(function(){return t.onSubmit()})),c.Sb(8,"label",5),c.Dc(9,"C\xedm:"),c.Rb(),c.Sb(10,"input",6),c.ec("ngModelChange",(function(e){return t.puzzle.title=e})),c.Rb(),c.Sb(11,"label",7),c.Dc(12,"Kateg\xf3ria:"),c.Rb(),c.Ob(13,"input",8),c.Sb(14,"label",9),c.Dc(15,"Instrukci\xf3:"),c.Rb(),c.Sb(16,"textarea",10),c.ec("ngModelChange",(function(e){return t.puzzle.instruction=e})),c.Dc(17,"        "),c.Rb(),c.Bc(18,S,2,0,"label",11),c.Bc(19,O,2,2,"textarea",12),c.Bc(20,R,1,1,"img",13),c.Sb(21,"label",14),c.Dc(22,"Helyes v\xe1lasz:"),c.Rb(),c.Sb(23,"input",15),c.ec("ngModelChange",(function(e){return t.puzzle.answer=e})),c.Rb(),c.Sb(24,"label",16),c.Dc(25,"Neh\xe9zs\xe9g:"),c.Rb(),c.Ob(26,"input",17),c.Sb(27,"button",18),c.Dc(28,"K\xfcld\xe9s"),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&e){const e=c.tc(7);c.Ab(10),c.mc("ngModel",t.puzzle.title),c.Ab(3),c.nc("value",t.puzzleService.translateCategory(t.puzzle.category)),c.Ab(3),c.mc("ngModel",t.puzzle.instruction)("disabled",t.isCipher),c.Ab(2),c.mc("ngIf",!t.isPicturePuzzle),c.Ab(1),c.mc("ngIf",!t.isPicturePuzzle),c.Ab(1),c.mc("ngIf",t.isPicturePuzzle),c.Ab(3),c.mc("ngModel",t.puzzle.answer)("disabled",t.isCipher),c.Ab(3),c.nc("value",t.puzzleService.translateLevel(t.puzzle.level)),c.Ab(1),c.mc("disabled",e.invalid)}},directives:[l.a,C.p,C.i,C.j,C.c,C.h,C.k,p.l],styles:[".form-container[_ngcontent-%COMP%]{margin-top:100px;margin-bottom:50px;border-radius:10px;background-color:#333;padding:20px 40px;color:#00b300;font-size:18px}h2[_ngcontent-%COMP%]{margin:20px 0 40px}h2[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{text-align:center}label[_ngcontent-%COMP%]{color:#00b300;margin-top:25px}input[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{display:block}input[_ngcontent-%COMP%]{margin:10px auto;width:60%;font-size:17px;text-align:left}input[disabled][_ngcontent-%COMP%]:hover{background-color:#333;border-radius:0;color:#f0fff0;cursor:default}textarea[_ngcontent-%COMP%]{display:block;width:60%;height:150px;margin:0 auto}button[_ngcontent-%COMP%]{margin:30px auto}button[_ngcontent-%COMP%], img[_ngcontent-%COMP%]{display:block}img[_ngcontent-%COMP%]{margin:20px auto}"]}),e})();const _=[{path:"",children:[{path:"members",canActivate:[r],component:M},{path:"puzzles",canActivate:[r],component:d},{path:"members/edit/:id",canActivate:[r],component:n("neMb").a},{path:"puzzles/edit/:id",canActivate:[r],component:y}]}];let D=(()=>{class e{}return e.\u0275mod=c.Lb({type:e}),e.\u0275inj=c.Kb({factory:function(t){return new(t||e)},imports:[[i.f.forChild(_)],i.f]}),e})();var w=n("GdK9"),A=n("ovet");let k=(()=>{class e{}return e.\u0275mod=c.Lb({type:e}),e.\u0275inj=c.Kb({factory:function(t){return new(t||e)},imports:[[D,w.ProfileModule,A.a]]}),e})()}}]);